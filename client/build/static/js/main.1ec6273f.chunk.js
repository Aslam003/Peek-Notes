(this["webpackJsonppeek-notes"]=this["webpackJsonppeek-notes"]||[]).push([[0],{156:function(e,t,a){"use strict";a.r(t);a(94),a(95),a(96),a(97);var n=a(1),r=a.n(n),o=a(12),c=a.n(o),l=a(22),s=a(9);var i=function(){var e=new Date;return r.a.createElement("footer",null,r.a.createElement("p",null,"created by Aslam ",r.a.createElement("i",{class:"far fa-copyright"}," ",e.getFullYear())))},m=a(29),u=a(39),d=a(23),E=a.n(d),f=a(173);var p=function(){return r.a.createElement("div",{className:"User-Logins social-buttons"},r.a.createElement("a",{href:"http://localhost:5000/auth/google"},r.a.createElement(f.a,{variant:"outlined"},r.a.createElement("i",{className:"social-icons fab fa-google "})," Sign Up with Google ")),r.a.createElement("a",{href:"http://localhost:5000/auth/facebook"},r.a.createElement(f.a,{variant:"outlined"},r.a.createElement("i",{className:"social-icons fab fa-facebook-square  "})," Sign Up with Facebook")))},b=a(38);var g=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(b.a)(),l=c.register,i=c.handleSubmit,m=Object(n.useState)(null),d=Object(s.a)(m,2),g=d[0],h=d[1];return r.a.createElement("div",{className:"signup-form"},r.a.createElement("form",{className:"User-Logins",onSubmit:i((function(e){o(!1),E.a.post("/register",e).then((function(e){e.data.success?(localStorage.setItem("token",JSON.stringify(e.data.user)),window.location.href="/"):(h(e.data.message),o(!0))}))}))},r.a.createElement("h2",{className:"signup-headings"},"Register"),a&&r.a.createElement(u.d,{style:{margin:0,padding:0,fontSize:".8rem",fontWeight:400}},r.a.createElement(u.b,{color:"danger"},g)),r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",ref:l()}),r.a.createElement("input",{type:"text",name:"username",placeholder:"Email",ref:l()}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",ref:l()}),r.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",ref:l()}),r.a.createElement(f.a,{type:"submit",variant:"outlined"}," Register ")),r.a.createElement(p,null))},h=a(27),O=a(20),v=function(e){return{type:"DELETE_NOTES",payload:e}},N=function(e){return{type:"ADD_NOTES",payload:e}},y=function(e){return{type:"ITEMS_LOADING",payload:e}};var S=function(){var e=Object(O.b)(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],c=a[1],l=Object(O.c)((function(e){return e.notes.userId.id})),i=Object(b.a)(),m=i.register,u=i.handleSubmit;return r.a.createElement("div",null,r.a.createElement("form",{id:"form",className:"inputForm",onSubmit:u((function(t){var a=Object(h.a)({userId:l},t);e(N(t)),E.a.post("/notes",a).then((function(e){document.getElementById("form").reset()}))}))},o&&r.a.createElement("input",{name:"title",placeholder:"Title",ref:m()}),r.a.createElement("textarea",{onClick:function(){c(!0)},name:"content",placeholder:"Note down...",rows:o?"2":"1",ref:m()}),o&&r.a.createElement("button",{type:"submit",name:"addNotes"},"  ",r.a.createElement("i",{className:"fas fa-save"}))))},w=a(10),j=a(171),k=a(164),I=a(165),_=a(166),T=a(167),L=a(172);var x=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)({}),i=Object(s.a)(l,2),m=i[0],u=i[1],d=Object(O.c)((function(e){return e.notes.userId.id})),f=Object(O.b)();function p(e){var t=e.target,a=t.name,n=t.value;u((function(e){return Object(h.a)({},e,Object(w.a)({},a,n))}))}function b(){u({title:e.title,content:e.content}),c(!o)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,r.a.createElement(L.a.Body,{onClick:b},r.a.createElement(L.a.Title,null,e.title),r.a.createElement(L.a.Text,null,e.content)),r.a.createElement("button",{onClick:function(){var t={user:d,title:e.title};f(v(e.id)),E.a.delete("/notes",{data:t}).then((function(e){console.log(e)}))},className:"delButton",type:"submit",name:"NotesButton"}," ",r.a.createElement("i",{className:"fas fa-trash"}," "),"  ")),r.a.createElement("div",null,r.a.createElement(j.a,{isOpen:o,toggle:b},r.a.createElement("form",{className:"modal-form"},r.a.createElement(k.a,{toggle:b,style:{border:"none"}},r.a.createElement(I.a,{type:"text",name:"title",onChange:p,value:m.title})),r.a.createElement(_.a,null,r.a.createElement(I.a,{type:"textarea",name:"content",onChange:p,value:m.content,rows:15})),r.a.createElement(T.a,{style:{border:"none"}},r.a.createElement("button",{type:"submit",name:"addNotes",className:"modal-notes-button",onClick:function(){var t=e.title,a=Object(h.a)({userId:d,prevTitle:t},m);E.a.put("/notes",a),window.location.reload(!0),b()}},r.a.createElement("i",{className:"fas fa-save"})))))))},D=a(168);var C=function(){Object(n.useEffect)((function(){var e=window.location.search,t=new URLSearchParams(e);if(t.get("user")){var a=JSON.parse(t.get("user"));localStorage.setItem("token",JSON.stringify(a)),window.location.href="/"}}),[]);var e=Object(O.c)((function(e){return e.notes.notes}));return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement(D.a,{className:"added-notes"},e.map((function(e,t){return r.a.createElement(x,{key:t,id:t,title:e.title,content:e.content})}))))};a(153);var U=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),i=Object(s.a)(c,2),m=i[0],d=i[1],g=Object(b.a)(),h=g.register,O=g.handleSubmit;return r.a.createElement("div",{className:"signup-form"},r.a.createElement("form",{className:"User-Logins",onSubmit:O((function(e){o(!1),E.a.post("/Login",e).then((function(e){e.data.success?(localStorage.setItem("token",JSON.stringify(e.data.user)),window.location.href="/"):e.data.message&&(d(e.data.message),o(!0))}))}))},r.a.createElement("h2",{className:"signup-headings"},"Login"),a&&r.a.createElement(u.d,{style:{margin:0,padding:0,fontSize:".8rem",fontWeight:400}},r.a.createElement(u.b,{color:"danger"},m)),r.a.createElement("input",{type:"text",name:"username",placeholder:"Email",ref:h}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",ref:h}),r.a.createElement(f.a,{type:"submit",className:"login-button",variant:"outlined"}," Login "),r.a.createElement("p",{className:"register-text"}," ",r.a.createElement(l.b,{to:"/Register"}," create ")," account")),r.a.createElement(p,null))};var R=function(){return r.a.createElement(l.a,null,r.a.createElement(m.a,{exact:!0,path:"/Login",component:U}),r.a.createElement(m.a,{exact:!0,path:"/Register",component:g}))},J=(a(154),a(170)),P=a(169);var A=function(){var e=Object(O.b)(),t=Object(n.useState)(),a=Object(s.a)(t,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("token"));if(t){E.a.post("/Notes/users",t).then((function(t){e(v(0)),t.data.map((function(t){return e(N(t))}))})),e(y(t));var a=t.name.split(" ")[0];c(a[0].toUpperCase()+a.slice(1))}}),[e]),r.a.createElement("div",null,r.a.createElement("header",null,o?r.a.createElement(J.a,{placement:"bottom",delay:{show:50,hide:100},overlay:r.a.createElement(P.a,{id:"button-tooltip"},"Click to Logout")},r.a.createElement("div",{onClick:function(){window.location.reload(!0),e(y("null")),localStorage.removeItem("token"),c(null)},className:"account-name"},"Hi ",o,"!")):r.a.createElement("div",{onClick:function(){return window.location.href="/login"},className:"userAccountIcon"},r.a.createElement(J.a,{placement:"bottom",delay:{show:50,hide:100},overlay:r.a.createElement(P.a,{id:"button-tooltip"},"Click to Login")},r.a.createElement("i",{className:"fas fa-user-plus"}))),r.a.createElement("h1",null,"Peek Notes")),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:C}),r.a.createElement(m.a,{exact:!0,path:"/Login",component:R}),r.a.createElement(m.a,{exact:!0,path:"/Register",component:g})),r.a.createElement(i,null))},B=a(35),F=a(11),G={userId:{},notes:[{title:"Welcome!",content:"Please login to save your notes!"}]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_NOTES":return Object(h.a)({},e);case"DELETE_NOTES":return Object(h.a)({},e,{notes:e.notes.filter((function(e,a){return a!==t.payload}))});case"ADD_NOTES":return Object(h.a)({},e,{notes:[t.payload].concat(Object(F.a)(e.notes))});case"ITEMS_LOADING":return Object(h.a)({},e,{userId:t.payload});default:return e}},W=Object(B.b)({notes:X}),z=Object(B.c)(W,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(O.a,{store:z},r.a.createElement(l.a,null,r.a.createElement(A,null))),document.getElementById("root"))},93:function(e,t,a){e.exports=a(156)}},[[93,1,2]]]);
//# sourceMappingURL=main.1ec6273f.chunk.js.map